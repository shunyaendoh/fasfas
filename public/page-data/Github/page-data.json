{"componentChunkName":"component---src-layouts-blog-post-layout-js","path":"/Github/","result":{"data":{"markdownRemark":{"html":"<h1>はじめに</h1>\n<p>GitHubの使っていたアカウントのレポジトリがぐちゃぐちゃになってしまって何が何だかわからない！\nって事でGitの練習も兼ねてサブアカウントを作ってコマンドから両方操作できるようにしてみようと思った次第です。</p>\n<h2>サブアカウントを作ろう</h2>\n<p>Githubで普通にサブアカウントを作りました。</p>\n<h2>ssh認証鍵を作ろう</h2>\n<p><code>ssh-keygen -t rsa -b 4096 -C \"your_email@example.com\"</code> => sshキーを生成 ( <code>-t</code>:鍵のタイプ。 <code>-b</code>:鍵の長さ。デフォルトは2,048bitだがGithubは安全性の高い4,096bitを推奨している。<code>-C</code>:コメント )</p>\n<p><code>ls ~/.ssh/id_rsa_github*</code> => 生成した鍵の確認</p>\n<p><code>chmod 600 ~/.ssh/id_rsa_github</code> => 秘密鍵(.pubがついてない方)のパーミッションを変更</p>\n<p><code>vi ~/.ssh/config</code> => sshのコンフィグファイルに以下のように記述する</p>\n<pre><code>Host github-sub\n  HostName github.com\n  IdentityFile ~/.ssh/sub_rsa\n  User git\n  Port 22\n  TCPKeepAlive yes\n  IdentitiesOnly yes\n  \nHost github\n  HostName github.com\n  IdentityFile ~/.ssh/main_rsa\n  User git\n  Port 22\n  TCPKeepAlive yes\n  IdentitiesOnly yes\n</code></pre>\n<p><code>ssh -T &#x3C;HOST></code> => ssh接続できているかの確認</p>\n<img width=\"682\" alt=\"スクリーンショット 2019-10-08 10 24 24\" src=\"https://user-images.githubusercontent.com/55518345/66364083-14491200-e9bb-11e9-9e58-a74a26f5567c.png\">\n<h2>Gitのコンフィグファイルを編集しよう</h2>\n<p><code>vi ~/.bashrc</code> => bashの設定ファイルをvimで開きます。</p>\n<p><code>iキー</code>を入力してインサートモードにしてから</p>\n<p>以下を.bashrcの中に追記してください。</p>\n<pre><code>function tomain() {\n  git config --global user.name \"&#x3C;MAIN_ACCOUNT>\"\n  git config --global user.email \"&#x3C;MAIN_ADDRESS>\"\n}\n\nfunction tosub() {\n  git config --global user.name \"&#x3C;SUB_ACCOUNT>\"\n  git config --global user.email \"&#x3C;SUB_ADDRESS>\"\n}\n</code></pre>\n<p><code>escキー</code> => <code>:wq</code>で保存です。</p>\n<p>次に.bashrc内記述を反映させるために<code>source ~/.bashrc</code>コマンドを実行してください。</p>\n<p>これで、</p>\n<p><code>tomain</code> => メインアカウントに切替え\n<code>tosub</code> => サブアカウントに切替え</p>\n<p>コマンドでアカウント切替えができるようになりました。</p>\n<h2>Githubで鍵を設定しよう</h2>\n<p><code>setting</code> => <code>SSH and GPG keys</code> => <code>New SSH key</code></p>\n<p>中に<code>open ~/.ssh</code>で確認できる、\n<code>.pub</code>がついているファイルをテキストエディタ等で開いてコピーペーストしてください。</p>\n<h2>複数アカウントによる問題点</h2>\n<ol>\n<li><code>git init</code></li>\n<li><code>git add &#x3C;ファイル名></code></li>\n<li><code>git commit -m \"&#x3C;コメント>\"</code></li>\n<li><code>git remote add origin &#x3C;URL(https://github.com/&#x3C;アカウント名>/&#x3C;レポジトリ名>.git)></code></li>\n<li><code>git push -u origin master</code></li>\n</ol>\n<p>複数アカウントがあると、これではエラーになります。\n( sshのコンフィグファイルがしたに記述した方を優先的に使用するからです。 )\nそこで、</p>\n<ol>\n<li><code>git init</code></li>\n<li><code>git add &#x3C;ファイル名></code></li>\n<li><code>git commit -m \"&#x3C;コメント>\"</code></li>\n<li><code>git remote add origin git@github(-sub):&#x3C;URL(&#x3C;アカウント名>/&#x3C;レポジトリ名>.git)></code></li>\n<li><code>git push -u origin master</code></li>\n</ol>\n<p>これで解決です。</p>\n<h2>参考サイト</h2>\n<p>・ <a href=\"https://employment.en-japan.com/engineerhub/entry/2017/01/31/110000\">今日からはじめるGitHub</a></p>\n<p>・ <a href=\"https://qiita.com/yamataku29/items/4744c9c70ad793c83b82\">複数のgitアカウントを使用する場合</a></p>","frontmatter":{"title":"GitHubの複数アカウントをコマンドから操作しよう"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/Github/"}}}